from openalea.plantgl.all import *

def EndEach(lstring): 
  print lstring
  assert lstring == Lstring("M(4) [ M(1) ] M(2) M(1)")

backward()
consider: NM
Axiom: N(0) [ N(0) ] N(0) N(0) 

derivation length: 1
production:

group 0:


N(r) >> x([M(lnbelem)]) or( M(anbelem), None ) :
  v = 1
  if lnbelem : v += sum(lnbelem)
  if anbelem : v += anbelem
  produce M(v)

# N(r) --> M(1)


interpretation:


endlsystem
